---
import { Icon } from 'astro-icon'
import { Embed } from 'astro-cache-embed'

type Props = {
  links: {
    href: string
    text: string
  }[],
  portrait?: boolean
  landscape?: boolean
}

let { links = [] } = Astro.props

const portrait = Astro.props.portrait || !Astro.props.landscape
const landscape = Astro.props.landscape

const socials = [
  { href: "https://indieweb.social/@thomasreggi", text: "mastodon" },
  { href: "https://www.linkedin.com/in/thomasreggi/", text: "linkedin" },
  { href: "https://github.com/reggi/", text: "github-alt" },
  { href: "https://dev.to/reggi", text: "dev" },
  { href: "https://stackoverflow.com/users/340688/thomasreggi", text: "stack-overflow" },
  { href: "https://reggi.tumblr.com", text: "square-tumblr" },
]

// const oldAvatar = 'https://cdn.masto.host/indiewebsocial/accounts/avatars/107/567/776/589/757/810/original/52f7729babfc617c.png'
// const avatar = 'https://cdn.masto.host/indiewebsocial/accounts/avatars/107/567/776/589/757/810/original/8a0cedd5fd8b0fee.png'
const avatar = "https://avatars.githubusercontent.com/u/296798?v=4"

---

{ portrait && (
  
<div>
  <a href="/">
    <Embed
      class="rounded-full w-full cursor-pointer"
      src={avatar}
      alt="Thomas Reggi's Profile Image"
    />
  </a>

  <div class="pt-5 pr-2">
    <p class="pb-2 text-right">@thomasreggi ðŸŒ¸</p>
    <ul class="text-right list-none flex flex-row-reverse gap-2">
      {socials.map((link) => (
        <li>
          <a href={link.href} target="_blank" aria-label={link.text}>
            <Icon name={link.text} alt={link.text} class="h-6" />
          </a>
        </li>
      ))}
    </ul>
    <div class="mx-0 px-0 mt-[30px] mb-[25px] pl-[20px] border-b-[1px] dark:border-white border-black"></div>
    <ul class="text-right flex flex-col gap-3 list-none">
      {links.map((link) => <li><a href={link.href}>{link.text}</a></li>)}
    </ul>
  </div> 
</div>
)}

{ landscape && (

<div class="flex flex-col items-center justify-center">

  <a href="/">
    <Embed
      class="w-24 h-24 mb-4 rounded-full cursor-pointer"
      src={avatar}
      alt="Thomas Reggi's Profile Image"/>
  </a>

  <p class="text-center pb-4">@thomasreggi ðŸŒ¸</p>
  <div class="text-right list-none pb-4 -ml-[10px]">
    <ul class="text-right list-none flex flex-row-reverse gap-2">
      {socials.map((link) => (
        <li>
          <a href={link.href} target="_blank" aria-label={link.text}>
            <Icon name={link.text} alt={link.text} class="h-7" />
          </a>
        </li>
      ))}
    </ul>
  </div>
</div>

<div class="p-[30px]">
  <div class="border-b-[1px] dark:border-white border-black"></div>
</div>

)}
